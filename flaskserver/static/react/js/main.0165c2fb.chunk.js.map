{"version":3,"sources":["hangClient.js","CreateProfileComponent.js","ProtectedRoute.js","ActivityListComponent.js","TokenEntryComponent.js","index.js"],"names":["operationToCommandNumber","createProfile","displayname","phonenumber","data","Axios","post","catch","r","console","log","then","PHONE_NUMBER_REGEX","DISPLAY_NAME_REGEX","CreateProfile","props","state","legalAgreement","profileCreated","validPhoneNumber","validDisplayname","validLegalAgreement","test","this","e","preventDefault","validatePhoneNumber","validateDisplayName","validateLegalAgreement","history","push","setState","target","value","checked","onSubmit","handleCreateProfile","bind","data-testid","htmlFor","id","name","placeholder","className","onChange","handleDisplayNameChange","handlePhoneNumberChange","type","handleLegalAgreementChange","React","Component","CreateProfileWithRouter","withRouter","ProtectedRoute","component","rest","render","ActivityList","activities","map","item","index","TokenEntry","handleAuthentication","authenticated","to","ReactDOM","exact","path","document","getElementById"],"mappings":"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","file":"js/main.0165c2fb.chunk.js","sourcesContent":["import 'axios';\r\nimport Axios from 'axios';\r\n\r\nconst operationToCommandNumber = {\r\n    'create_profile' : 1\r\n};\r\n\r\nconst SERVICE_URL = \"https://whatsupconnect.com\";\r\n\r\nexport function createProfile(displayname, phonenumber) {\r\n    const response = call({\r\n        \"cmd\" : operationToCommandNumber['create_profile'],\r\n        \"data\" : {\r\n            \"phone\" : phonenumber,\r\n            \"name\" : displayname\r\n        },\r\n        \"auth\" : \"\"\r\n    });\r\n    return response;\r\n}\r\n\r\nexport function getActivities() {\r\n    return [ \"hello\", \"world\" ];\r\n}\r\n\r\nfunction call(data) {\r\n    let response;\r\n\r\n    Axios.post(SERVICE_URL, data)\r\n        .catch(r => console.log(r) )\r\n        .then(r => console.log(r));\r\n\r\n    return response;\r\n}","import React from 'react';\r\nimport './App.css';\r\nimport { createProfile } from './hangClient';\r\nimport { withRouter } from \"react-router\";\r\nimport './hangClient';\r\n\r\nconst PHONE_NUMBER_REGEX = /^\\d{10}$/;\r\nconst DISPLAY_NAME_REGEX = /^[a-zA-Z ]{1,15}$/;\r\n\r\nclass CreateProfile extends React.Component {\r\n\r\n    constructor(props) {\r\n        super(props);\r\n\r\n        this.state = {\r\n            phonenumber: '', // avoiding warning for uncontrolled input\r\n            displayname: '', // avoiding warning for uncontrolled input\r\n            legalAgreement: false,\r\n            profileCreated: false,\r\n            validPhoneNumber: true,\r\n            validDisplayname: true,\r\n            validLegalAgreement: true\r\n        };\r\n    }\r\n\r\n    validatePhoneNumber() {\r\n        return PHONE_NUMBER_REGEX.test(this.state.phonenumber);\r\n    }\r\n\r\n    validateLegalAgreement() {\r\n        return this.state.legalAgreement;\r\n    }\r\n\r\n    validateDisplayName() {\r\n        return DISPLAY_NAME_REGEX.test(this.state.displayname);\r\n    }\r\n\r\n    handleCreateProfile(e) {\r\n        e.preventDefault();\r\n\r\n        let validPhoneNumber = this.validatePhoneNumber();\r\n        let validDisplayname = this.validateDisplayName();\r\n        let validLegalAgreement = this.validateLegalAgreement();\r\n\r\n        if (validPhoneNumber &&  validDisplayname && validLegalAgreement) {\r\n            createProfile(this.state.displayname, this.state.phonenumber, this.state.legalAgreement);\r\n            this.props.history.push('/auth');\r\n        } else {\r\n            this.setState({\r\n                validPhoneNumber: validPhoneNumber,\r\n                validDisplayname: validDisplayname,\r\n                validLegalAgreement: validLegalAgreement\r\n            })\r\n        }\r\n    }\r\n\r\n    handleDisplayNameChange(e) {\r\n        this.setState({\r\n            displayname: e.target.value\r\n        });\r\n    }\r\n\r\n    handlePhoneNumberChange(e) {\r\n        this.setState({\r\n            phonenumber: e.target.value\r\n        })\r\n    }\r\n\r\n    handleLegalAgreementChange(e) {\r\n        this.setState({\r\n            legalAgreement: e.target.checked\r\n        })\r\n    }\r\n\r\n    render() {\r\n        return (\r\n            // data-testid=\"create-profile\" - workaround (https://tinyurl.com/yb3kjgp2) for\r\n            // https://github.com/jsdom/jsdom/issues/1937\r\n            <form onSubmit={this.handleCreateProfile.bind(this)} data-testid=\"create-profile\">\r\n                <label htmlFor=\"displayname\">Display Name:</label>\r\n                <input id=\"displayname\" \r\n                        name=\"displayname\" \r\n                        placeholder=\"John Smith\"\r\n                        value={this.state.displayname}\r\n                        className={this.state.validDisplayname ? 'valid-data' : 'invalid-data'}\r\n                        onChange={this.handleDisplayNameChange.bind(this)} />\r\n                <div data-testid=\"bad-displayname-message\" className={this.state.validDisplayname ? 'hidden' : 'visible'}>\r\n                    <p>Display name should only contain letters and spaces, while from 1 to 15 characters long</p>\r\n                </div>\r\n                <label htmlFor=\"phonenumber\">Phone Number:</label>\r\n                <input id=\"phonenumber\" \r\n                        name=\"phoneNumber\" \r\n                        placeholder=\"8888888888\"\r\n                        value={this.state.phonenumber}\r\n                        className={this.state.validPhoneNumber ? 'valid-data' : 'invalid-data'}\r\n                        onChange={this.handlePhoneNumberChange.bind(this)} />\r\n                <div data-testid=\"bad-phonenumber-message\" className={this.state.validPhoneNumber ? 'hidden' : 'visible'}>\r\n                    <p>Phone numbers need to be 10 digits long.</p>\r\n                </div>\r\n                <p data-testid=\"legalText\">legal</p>\r\n                <input id=\"legalAgreement\" \r\n                        type=\"checkbox\" \r\n                        value={this.state.legalAgreement}\r\n                        className={this.state.validLegalAgreement ? 'valid-data' : 'invalid-data'}\r\n                        name=\"agreed\"\r\n                        onChange={this.handleLegalAgreementChange.bind(this)} />\r\n                <label htmlFor=\"legalAgreement\">I Agree To The Terms And Conditions</label>\r\n                <div data-testid=\"bad-legalagreement-message\" className={this.state.validLegalAgreement ? 'hidden' : 'visible'}>\r\n                    <p>You must agree to the terms and conditions to use Hang.</p>\r\n                </div>\r\n                <input type=\"submit\" value=\"Login\" />\r\n            </form>\r\n        );\r\n    }\r\n}\r\n\r\nexport const CreateProfileWithRouter = withRouter(CreateProfile);","import React from 'react';\r\nimport { Route } from 'react-router-dom';\r\nimport { CreateProfileWithRouter } from './CreateProfileComponent';\r\n\r\n\r\nfunction renderProtectedComponent(Component, props) {\r\n    return false ? <Component {...props} />: <CreateProfileWithRouter />;\r\n}\r\n\r\nexport const ProtectedRoute = ({ component: Component, ...rest}) => (\r\n    <Route {...rest} render={(props) => renderProtectedComponent(Component, props)} />\r\n)","import React from 'react';\r\nimport { getActivities } from './hangClient';\r\n\r\nexport class ActivityList extends React.Component {\r\n    \r\n    constructor(props) {\r\n        super(props);\r\n\r\n        this.state = {\r\n            activities: []\r\n        }\r\n    }\r\n\r\n    componentWillMount() {\r\n        const activities = getActivities();\r\n        this.setState({ activities: activities });\r\n    }\r\n\r\n    render() {\r\n        return (\r\n            <ul>\r\n            {this.state.activities.map((item, index) => (\r\n                <li>{item}</li>\r\n            ))}\r\n            </ul>\r\n        );\r\n    }\r\n}","import React from 'react';\r\nimport { Redirect } from 'react-router-dom';\r\n\r\nexport class TokenEntry extends React.Component {\r\n    constructor(props) {\r\n        super(props);\r\n\r\n        this.handleAuthentication = this.handleAuthentication.bind(this);\r\n\r\n        this.state = {\r\n            authenticated: false\r\n        }\r\n    }\r\n\r\n    handleAuthentication() {\r\n        this.setState({ authenticated: true });\r\n    }\r\n\r\n    render() {\r\n        if (!this.state.authenticated) {\r\n            return (\r\n                <form onSubmit={this.handleAuthentication}>\r\n                    <input name=\"code\" placeholder=\"12345\" />\r\n                    <input type=\"submit\" value=\"View Activities\" />\r\n                </form>\r\n            );\r\n        }\r\n        return <Redirect to=\"/\" />;\r\n    }\r\n}","import React from 'react';\r\nimport ReactDOM from 'react-dom';\r\nimport { BrowserRouter as Router, Route } from 'react-router-dom';\r\nimport { ProtectedRoute } from './ProtectedRoute';\r\nimport { CreateProfileWithRouter } from './CreateProfileComponent';\r\nimport { ActivityList } from './ActivityListComponent';\r\nimport { TokenEntry } from './TokenEntryComponent';\r\n\r\nReactDOM.render(\r\n  <Router>\r\n    <ProtectedRoute exact path=\"/\" component={ActivityList} />\r\n    <Route path=\"/login\" component={CreateProfileWithRouter} />\r\n    <Route path=\"/auth\" component={TokenEntry} />\r\n  </Router>,\r\n  document.getElementById('root')\r\n);\r\n"],"sourceRoot":""}